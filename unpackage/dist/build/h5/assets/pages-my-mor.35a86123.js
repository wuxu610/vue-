import{r as t,o,a as i,w as e,d as n,aj as s,j as r,F as a,k as l,f as c,t as h,b as u,i as f,g as d,m,n as _,e as p,D as g,x as b,v as y}from"./index-d5db0b4a.js";import{_ as x}from"./uni-card.abd4662b.js";import{r as k}from"./uni-app.es.d091b415.js";import{_ as w}from"./uni-section.b7492178.js";import{_ as v}from"./uni-icons.983a2416.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{g as S}from"./index.d9e3679f.js";const B={__name:"mors",props:["mm"],setup(m){const _=m,p=_.mm;return console.log(_),(m,_)=>{const g=f,b=k(t("uni-card"),x),y=k(t("uni-section"),w),v=d;return o(),i(v,null,{default:e((()=>[n(y,{title:"我的大事件",type:"line",style:{height:"auto"}},{default:e((()=>[s(p)?(o(!0),r(a,{key:0},l(s(p),(t=>(o(),i(b,{"is-shadow":!1,extra:new Date(t.happenTime).toLocaleDateString()},{default:e((()=>[n(g,{class:"uni-body"},{default:e((()=>[c(h(t.content),1)])),_:2},1024)])),_:2},1032,["extra"])))),256)):u("",!0)])),_:1})])),_:1})}}};const z=C({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:()=>({})},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}),computed:{contentWidth(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:()=>"55px",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")},nvueBottom:()=>(m().windowBottom,30)},watch:{pattern:{handler(t,o){this.styles=Object.assign({},this.styles,t)},deep:!0}},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,o){this.isShow&&this.$emit("trigger",{index:t,item:o})},getPosition(t,o,i){return 0===t?this.horizontal===o&&this.vertical===i:1===t?this.direction===o&&this.vertical===i:2===t?this.direction===o&&this.horizontal===i:this.isShow&&this.direction===o?this.contentWidth:this.contentWidthMin}}},[["render",function(s,m,b,y,x,w){const C=d,S=g,B=f,z=k(t("uni-icons"),v);return o(),i(C,{class:"uni-cursor-point"},{default:e((()=>[b.popMenu&&(w.leftBottom||w.rightBottom||w.leftTop||w.rightTop)&&b.content.length>0?(o(),i(C,{key:0,class:_([{"uni-fab--leftBottom":w.leftBottom,"uni-fab--rightBottom":w.rightBottom,"uni-fab--leftTop":w.leftTop,"uni-fab--rightTop":w.rightTop},"uni-fab"]),style:p(w.nvueBottom)},{default:e((()=>[n(C,{class:_([{"uni-fab__content--left":"left"===b.horizontal,"uni-fab__content--right":"right"===b.horizontal,"uni-fab__content--flexDirection":"vertical"===b.direction,"uni-fab__content--flexDirectionStart":w.flexDirectionStart,"uni-fab__content--flexDirectionEnd":w.flexDirectionEnd,"uni-fab__content--other-platform":!x.isAndroidNvue},"uni-fab__content"]),style:p({width:w.boxWidth,height:w.boxHeight,backgroundColor:x.styles.backgroundColor}),elevation:"5"},{default:e((()=>[w.flexDirectionStart||w.horizontalLeft?(o(),i(C,{key:0,class:"uni-fab__item uni-fab__item--first"})):u("",!0),(o(!0),r(a,null,l(b.content,((t,s)=>(o(),i(C,{key:s,class:_([{"uni-fab__item--active":x.isShow},"uni-fab__item"]),onClick:o=>w._onItemClick(s,t)},{default:e((()=>[n(S,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),n(B,{class:"uni-fab__item-text",style:p({color:t.active?x.styles.selectedColor:x.styles.color})},{default:e((()=>[c(h(t.text),1)])),_:2},1032,["style"])])),_:2},1032,["class","onClick"])))),128)),w.flexDirectionEnd||w.horizontalRight?(o(),i(C,{key:1,class:"uni-fab__item uni-fab__item--first"})):u("",!0)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):u("",!0),n(C,{class:_([{"uni-fab__circle--leftBottom":w.leftBottom,"uni-fab__circle--rightBottom":w.rightBottom,"uni-fab__circle--leftTop":w.leftTop,"uni-fab__circle--rightTop":w.rightTop,"uni-fab__content--other-platform":!x.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:p({"background-color":x.styles.buttonColor,bottom:w.nvueBottom}),onClick:w._onClick},{default:e((()=>[n(z,{class:_(["fab-circle-icon",{"uni-fab__plus--active":x.isShow&&b.content.length>0}]),type:"plusempty",color:x.styles.iconColor,size:"32"},null,8,["color","class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-cd9393b4"]]),j=b().userinfo;const P=C({data:()=>({mors:null}),methods:{getMors(){this.mors=null,S(`api/memorabilia/${j.id}`,null).then((t=>{this.mors=t.data.memorabilias}))},addMor(){y({url:"/pages/my/addMor?id=1"})}},mounted(){this.getMors()},onShow(){this.getMors()}},[["render",function(s,r,a,l,c,h){const f=k(t("mors"),B),m=k(t("uni-fab"),z),_=d;return o(),i(_,null,{default:e((()=>[c.mors?(o(),i(f,{key:0,mm:c.mors},null,8,["mm"])):u("",!0),n(m,{onFabClick:h.addMor,horizontal:"right"},null,8,["onFabClick"])])),_:1})}]]);export{P as default};
